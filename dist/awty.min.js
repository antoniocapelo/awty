(function(){var a,b;a=function(){function a(a){var b,c;c={tidy:!0,defaultClass:"awty"};for(var d in c)c.hasOwnProperty(d)&&a&&"undefined"!=typeof a[d]&&(c[d]=a[d]);isElTotallyInViewport=function(a){return a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},isElInViewport=function(a,b,c){var d,e,f,g;switch((a instanceof Array||"undefined"!=typeof jQuery&&a instanceof jQuery)&&(a=a[0]),d=a.getBoundingClientRect(),b){case"PEEK":case"peek":return c=c?c:0,e=d.top+d.height*c,f=d.bottom-d.height*c,isElTotallyInViewport(d)||f>=0&&e<=(window.innerHeight||document.documentElement.clientHeight);case"MARGIN":case"margin":return c=c?c:0,e=d.top-c,f=d.bottom+c,e>=0&&f<=(window.innerHeight||document.documentElement.clientHeight);case"CENTER":case"center":return c=c?c:20,middleLine=parseInt(d.bottom-d.height/2,10),g=parseInt((window.innerHeight||document.documentElement.clientHeight)/2,10),middleLine>=g-c&&g+c>middleLine;default:return isElTotallyInViewport(d)}},getElems=function(){for(var a,b=document.querySelectorAll("."+c.defaultClass),d=[],e=0;a=b[e];e++)a.dataset.awty&&d.push(a);return d},roundTo=function(a,b){var c=a%b;return b/2>=c?a-c:a+b-c},removeClass=function(a,b){if(a.classList)for(var c,d=0;c=b[d];d++)a.classList.remove(c);else for(var c,d=0;c=b[d];d++)a.className=a.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ")},addClass=function(a,b){if(a.classList)for(var c,d=0;c=b[d];d++)a.classList.add(c);else for(var c,d=0;c=b[d];d++)a.className+=" "+c},update=function(a,d){var e=a.dataset.awty.split(",");a.dataset.awtyRemove&&"true"===a.dataset.awtyRemove?removeClass(a,e):addClass(a,e),c.tidy===!0&&(b.splice(d,1),0===b.length&&removeListeners())},addListeners=function(){window.addEventListener?(addEventListener("DOMContentLoaded",handler,!1),addEventListener("load",handler,!1),addEventListener("scroll",handler,!1),addEventListener("resize",handler,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",handler),attachEvent("onload",handler),attachEvent("onscroll",handler),attachEvent("onresize",handler))},removeListeners=function(){window.removeEventListener?(removeEventListener("DOMContentLoaded",handler,!1),removeEventListener("load",handler,!1),removeEventListener("scroll",handler,!1),removeEventListener("resize",handler,!1)):window.attachEvent&&(detachEvent("onDOMContentLoaded",handler),detachEvent("onload",handler),detachEvent("onscroll",handler),detachEvent("onresize",handler))},handler=function(){for(var a,c=0;a=b[c];c++){var d=a.dataset.awtyMode,e=parseFloat(a.dataset.awtySpace,10);d?isElInViewport(a,d,e)&&update(a,c):isElTotallyInViewport(a.getBoundingClientRect())&&update(a,c)}},start=function(){b=getElems(),addListeners()}}return a.prototype.init=function(){var a;"interactive"===(a=document.readyState)||"complete"===a?start():document.addEventListener("DOMContentLoaded",start)},a.prototype.getElements=function(){return getElems()},a}(),b="undefined"!=typeof exports&&null!==exports?exports:window,b.Awty=a}).call(this);