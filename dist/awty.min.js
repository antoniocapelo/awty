(function(){var e,t;e=function(){function e(e){var t,n={tidy:!0,defaultClass:"awty",fn:null};for(var a in n)n.hasOwnProperty(a)&&e&&"undefined"!=typeof e[a]&&(n[a]=e[a]);isElTotallyInViewport=function(e){return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},isElInViewport=function(e,t,n){var a,o,r,d,i=window.innerHeight||document.documentElement.clientHeight;switch((e instanceof Array||"undefined"!=typeof jQuery&&e instanceof jQuery)&&(e=e[0]),a=e.getBoundingClientRect(),t){case"PEEK":case"peek":return n=n||0,o=a.top+a.height*n,r=a.bottom-a.height*n,isElTotallyInViewport(a)||r>=0&&i>=o;case"MARGIN":case"margin":return n=n||0,o=a.top-n,r=a.bottom+n,o>=0&&i>=r;case"CENTER":case"center":return n=n||20,middleLine=parseInt(a.bottom-a.height/2,10),d=parseInt((window.innerHeight||document.documentElement.clientHeight)/2,10),middleLine>=d-n&&d+n>middleLine;default:return isElTotallyInViewport(a)}},getElems=function(){for(var e,t,a=document.querySelectorAll("."+n.defaultClass),o=[],r=0;t=a[r];r++)t.dataset.awty&&(e={e:t,mode:t.dataset.awtyMode,space:parseFloat(t.dataset.awtySpace,10)},o.push(e));return o},roundTo=function(e,t){var n=e%t;return t/2>=n?e-n:e+t-n},removeClass=function(e,t){if(e.classList)for(var n,a=0;n=t[a];a++)e.classList.remove(n);else for(var n,a=0;n=t[a];a++)e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},addClass=function(e,t){if(e.classList)for(var n,a=0;n=t[a];a++)e.classList.add(n);else for(var n,a=0;n=t[a];a++)e.className+=" "+n},update=function(e,a){var o=e.dataset.awty.split(",");e.dataset.awtyRemove&&"true"===e.dataset.awtyRemove?removeClass(e,o):addClass(e,o),n.tidy===!0&&(t.splice(a,1),0===t.length&&removeListeners())},addListeners=function(){window.addEventListener?(addEventListener("DOMContentLoaded",handler,!1),addEventListener("load",handler,!1),addEventListener("scroll",handler,!1),addEventListener("resize",handler,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",handler),attachEvent("onload",handler),attachEvent("onscroll",handler),attachEvent("onresize",handler)),listening=!0},removeListeners=function(){window.removeEventListener?(removeEventListener("DOMContentLoaded",handler,!1),removeEventListener("load",handler,!1),removeEventListener("scroll",handler,!1),removeEventListener("resize",handler,!1)):window.detachEvent&&(detachEvent("onDOMContentLoaded",handler),detachEvent("onload",handler),detachEvent("onscroll",handler),detachEvent("onresize",handler)),listening=!1},handler=function(){for(var e,a,o=0;a=t[o];o++)(a.mode&&isElInViewport(a.e,a.mode,a.space)||isElTotallyInViewport(a.e.getBoundingClientRect()))&&(update(a.e,o),(a.fn||n.fn)&&(e=a.fn||n.fn,e.call(this)))},start=function(){t=getElems(),addListeners()},updateElems=function(e){t.push(e)}}return e.prototype.init=function(){var e;"interactive"===(e=document.readyState)||"complete"===e?start():document.addEventListener("DOMContentLoaded",start)},e.prototype.register=function(e,t,n){var a={};a.e=e,e.dataset.awty?(a.mode=e.dataset.awtyMode,a.space=parseFloat(e.dataset.awtySpace,10)):"undefined"!=typeof t&&(a.mode=t.mode||null,a.space="undefined"!=typeof t&&"number"==typeof t.space?parseFloat(t.space,10):0),a.fn="function"==typeof n?n:void 0,updateElems(a),handler()},e.prototype.getElements=function(){return getElems()},e}(),t="undefined"!=typeof exports&&null!==exports?exports:window,t.Awty=e}).call(this);